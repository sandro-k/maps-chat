<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>chat-window-demo</title>
  <script src="../bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
  <link rel="import" href="../elements/chat-window-ui.html">
  <link rel="import" href="../bower_components/mqtt-elements/mqtt-connection.html">
</head>
<body>
<template id="demo" is="dom-bind">

  <mqtt-connection client="{{mqttClient}}" url="ws://locahost:3005"></mqtt-connection>

  <chat-window-ui mqtt-client=[[mqttClient]] thread="[[thread]]"></chat-window-ui>
</template>

<script>
  var demo = document.getElementById("demo");
  demo.thread = [];

  demo.generateNewMessage = function(time, from, message, me){
    return {time: time, from: from, message: message, fromMe: me};
  };

  var now = new Date();
  demo.thread.push(demo.generateNewMessage(now, "Foo", "Foo -> Bar", true));

  demo.thread.push(demo.generateNewMessage(new Date(now.getTime() + 1000 * 60), "Bar", "Bar -> Foo", false));

  demo.thread.push(demo.generateNewMessage(new Date(now.getTime() + 1000 * 60 * 2), "Foo", "Foo -> Bar II", true));


</script>
</body>
</html>